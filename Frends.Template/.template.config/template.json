{
  "$schema": "https://json.schemastore.org/template",
  "author": "Frends",
  "classifications": [
    "Solution"
  ],
  "name": "Frends Task",
  "identity": "FrendsTask",
  "shortName": "frends-task",
  "tags": {
    "language": "C#",
    "type": "solution"
  },
  "sourceName": "Frends.Echo.Execute",
  "symbols": {
    "Description": {
      "type": "parameter",
      "datatype": "string",
      "defaultValue": "Description of the Task",
      "description": "Description of what the Task will do.",
      "replaces": "TaskDescription"
    },
    "FullTaskName": {
      "isRequired": true,
      "type": "parameter",
      "datatype": "string",
      "defaultValue": "Frends.Echo.Execute",
      "description": "Full name in format: Company.System.Action e.g. Frends.Xml.Write"
    },
    "name": {
      "type": "generated",
      "generator": "join",
      "parameters": {
        "symbols": [
          {
            "type": "ref",
            "value": "FullTaskName"
          }
        ]
      }
    },
    "CompanyName": {
      "type": "derived",
      "valueSource": "FullTaskName",
      "valueTransform": "GetCompanyName",
      "replaces": "Frends",
      "FileRename": "Frends"
    },
    "ClassName": {
      "type": "derived",
      "valueSource": "FullTaskName",
      "valueTransform": "GetSystemName",
      "replaces": "Echo",
      "FileRename": "Echo"
    },
    "TaskName": {
      "type": "derived",
      "valueSource": "FullTaskName",
      "valueTransform": "GetActionName",
      "replaces": "Execute",
      "FileRename": "Execute"
    },
    "CurrentDate": {
      "type": "generated",
      "generator": "now",
      "parameters": {
        "format": "yyyy-MM-dd"
      },
      "replaces": "GeneratedDate"
    },
    "CurrentYear": {
      "type": "generated",
      "generator": "now",
      "parameters": {
        "format": "yyyy"
      },
      "replaces": "GeneratedYear"
    }
  },
  "forms": {
    "GetCompanyName": {
      "identifier": "replace",
      "pattern": "^([^.]+)\\.[^.]+\\.[^.]+$",
      "replacement": "$1"
    },
    "GetSystemName": {
      "identifier": "replace",
      "pattern": "^.*\\.([^.]+)\\.[^.]+$",
      "replacement": "$1"
    },
    "GetActionName": {
      "identifier": "replace",
      "pattern": "^.*\\.([^.]+)$",
      "replacement": "$1"
    }
  }
}
